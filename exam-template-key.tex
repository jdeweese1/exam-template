% https://latex-tutorial.com/typeset-exam-paper/
% https://www.ctan.org/pkg/exam
% https://ctan.math.washington.edu/tex-archive/macros/generic/xstring/xstring.tex
\documentclass{exam}
\usepackage{xstring}

\begin{document}

\pagestyle{headandfoot}
\firstpageheader{$subject$}{$title$}{$date$}
\runningheader{Generated by $author$}{}{}
\firstpagefooter{}{}{}
% \runningfooter{Math 115}{First Exam}{Page \thepage\ of \numpages}
\runningfooter{}
{}
{Points earned: \makebox[1in]{\hrulefill}
out of a possible \pointsonpage{\thepage} points}
\runningfootrule

\begin{center}
\fbox{\fbox{\parbox{5.5in}{\centering
Answer the questions in the spaces provided on the
question sheets. If you run out of room for an answer,
continue on the back of the page.}}}
\end{center}

\vspace{0.1in}
\makebox[\textwidth]{Instructorâ€™s name:\enspace\hrulefill}
\makebox[\textwidth]{Name and section:\enspace\hrulefill}

$if(print_answers)$
\printanswers
$endif$
\vspace{0.2in}

\begin{questions}
$for(questions)$
    $if(questions.name)$
        \question[1] $questions.name$
        $if(questions.options)$
            \begin{checkboxes}
            $for(questions.options)$
                \IfBeginWith{$it$}{correct}
                {\CorrectChoice \hspace{1cm} \StrBehind{$it$}{correct}}
                {\choice $it$}
            $endfor$
            \end{checkboxes}
        $else$
        \vspace{1in}
        $endif$
        $else$
        $questions$
    $endif$

$endfor$

\end{questions}

\end{document}
